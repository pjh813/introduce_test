<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Minsuâ€™s Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ===== ê¸°ë³¸ ì„¤ì • ===== */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body {
        background: linear-gradient(to bottom right, #A7D8F0, #F7C6D9, #FFF3B0);
        background-attachment: fixed; /* í™”ë©´ ìŠ¤í¬ë¡¤ì—ë„ ë°°ê²½ ê³ ì • */
        background-repeat: no-repeat;  /* ë°˜ë³µ ê¸ˆì§€ */
        background-size: cover;        /* í™”ë©´ ì „ì²´ ë®ê¸° */
        color: #333;
        }

    /* ===== ë„¤ë¹„ê²Œì´ì…˜ ë°” ===== */
    .navbar {
      display:flex; justify-content:space-between; align-items:center;
      background-color: rgba(255,255,255,0.7); padding:15px 40px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .navbar .title { font-size:24px; font-weight:bold; color:#7A6BF5; }
    .navbar .links a { margin-left:20px; text-decoration:none; color:#444; font-weight:bold; }
    .navbar .links a:hover { color:#7A6BF5; }

    /* ===== ìŠ¬ë¼ì´ë“œ ì»¨í…Œì´ë„ˆ ===== */
    .slider {
      width: 80%; max-width:800px; margin:60px auto; position:relative;
      overflow:hidden; border-radius:20px; box-shadow:0 5px 20px rgba(0,0,0,0.2);
      /* ë†’ì´ ê³ ì • ëŒ€ì‹  ì¢…íš¡ë¹„ ì‚¬ìš© (ë°˜ì‘í˜•) */
      aspect-ratio: 16 / 9;
      background: #eee;
    }

    .slides {
      display:flex;
      transition: transform 0.6s ease; /* ì „í™˜ ì‹œê°„(ë¶€ë“œëŸ¬ì›€) */
      height:100%;
      will-change: transform;
    }

    .slide { min-width:100%; height:100%; flex-shrink:0; display:flex; align-items:center; justify-content:center; }
    .slide img { width:100%; height:100%; object-fit:cover; display:block; }

    /* ì»¨íŠ¸ë¡¤(ë²„íŠ¼, dots) */
    .controls { position:absolute; inset:0; pointer-events:none; }
    .btn {
      position:absolute; top:50%; transform:translateY(-50%); pointer-events:auto;
      background: rgba(255,255,255,0.8); border:none; padding:10px 12px; border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,0.15); cursor:pointer;
    }
    .btn:active { transform: translateY(-50%) scale(0.98); }
    .prev { left:12px; }
    .next { right:12px; }

    .dots {
      position:absolute; left:50%; bottom:14px; transform:translateX(-50%);
      display:flex; gap:8px; pointer-events:auto;
    }
    .dot {
      width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.8);
      box-shadow:0 1px 3px rgba(0,0,0,0.2); cursor:pointer; opacity:0.7;
    }
    .dot.active { transform:scale(1.2); opacity:1; background:#7A6BF5; }

    /* ===== í™ˆ ì†Œê°œ ===== */
    .home-text { text-align:center; margin-top:40px; }
    .home-text h2 { font-size:32px; color:#6D63E0; }
    .home-text p { margin-top:10px; font-size:18px; color:#555; }

    /* ë°˜ì‘í˜•: ëª¨ë°”ì¼ì—ì„œ íŒ¨ë”© ì¤„ì„ */
    @media (max-width:600px) {
      .navbar { padding:12px 18px; }
      .navbar .title { font-size:18px; }
      .slider { width:94%; margin:40px auto; }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <h1 class="title">Minsuâ€™s Page</h1>
    <div class="links">
      <a href="ms_home.html">Home</a>
      <a href="ms_profile.html">Profile</a>
      <a href="ms_etc.html">Etc</a>
    </div>
  </nav>

  <div class="slider" id="slider">
    <div class="slides" id="slides">
      <div class="slide"><img src="./../img/minsu/slide1.jpg" alt="ìŠ¬ë¼ì´ë“œ1"></div>
      <div class="slide"><img src="./../img/minsu/slide2.jpg" alt="ìŠ¬ë¼ì´ë“œ2"></div>
      <div class="slide"><img src="./../img/minsu/slide3.jpg" alt="ìŠ¬ë¼ì´ë“œ3"></div>
      <!-- í´ë¡ ì€ JSê°€ ì¶”ê°€í•©ë‹ˆë‹¤. HTMLì— ë¯¸ë¦¬ ë³µì œë³¸ì„ ë„£ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤. -->
    </div>

    <div class="controls">
      <button class="btn prev" id="prevBtn" aria-label="Previous">â—€</button>
      <button class="btn next" id="nextBtn" aria-label="Next">â–¶</button>

      <div class="dots" id="dots"></div>
    </div>
  </div>

  <div class="home-text">
    <h2>ì•ˆë…•í•˜ì„¸ìš”, ê¹€ë¯¼ìˆ˜ì…ë‹ˆë‹¤ ğŸŒ¤ï¸</h2>
    <p>ìƒˆë¡œìš´ ê²½í—˜ì„ ì¢‹ì•„í•˜ê³ , ë°°ì›€ì„ ì¦ê¸°ëŠ” ê°œë°œì ì§€ë§ìƒì´ì—ìš”.</p>
  </div>

  <script>
    (function () {
      const slidesEl = document.getElementById('slides');
      const sliderEl = document.getElementById('slider');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const dotsEl = document.getElementById('dots');

      const INTERVAL = 5000; // ê° ìŠ¬ë¼ì´ë“œ ë³´ì—¬ì£¼ëŠ” ì‹œê°„(ë°€ë¦¬ì´ˆ) â€” ì—¬ê¸°ë§Œ ë°”ê¾¸ì„¸ìš”
      const TRANSITION_MS = 600; // CSS transitionê³¼ ì¼ì¹˜ì‹œí‚´

      // ì´ˆê¸° ìŠ¬ë¼ì´ë“œ ìš”ì†Œë“¤(ì›ë³¸)
      const originalSlides = Array.from(slidesEl.querySelectorAll('.slide'));
      const slideCount = originalSlides.length;
      if (slideCount === 0) return;

      // 1) ì²« ìŠ¬ë¼ì´ë“œ ë³µì œ(ëì— ë¶™ì—¬ ëŠê¹€ ì—†ëŠ” ë£¨í”„ ë§Œë“¤ê¸°)
      const firstClone = originalSlides[0].cloneNode(true);
      slidesEl.appendChild(firstClone);

      // 2) í˜„ì¬ ì¸ë±ìŠ¤ ì œì–´ (0 .. slideCount-1), clone ë³´ì—¬ì¤„ ë•ŒëŠ” index === slideCount
      let index = 0;
      let timer = null;
      let isTransitioning = false;

      // ë„íŠ¸ ìƒì„±
      for (let i = 0; i < slideCount; i++) {
        const d = document.createElement('div');
        d.className = 'dot' + (i === 0 ? ' active' : '');
        d.dataset.index = i;
        dotsEl.appendChild(d);
      }

      const dots = Array.from(dotsEl.children);

      function updateDots() {
        dots.forEach((d, i) => d.classList.toggle('active', i === index % slideCount));
      }

      function goToSlide(i, withTransition = true) {
        if (withTransition) {
          slidesEl.style.transition = `transform ${TRANSITION_MS}ms ease`;
        } else {
          slidesEl.style.transition = 'none';
        }
        slidesEl.style.transform = `translateX(${ -100 * i }%)`;
      }

      function next() {
        if (isTransitioning) return;
        isTransitioning = true;
        index++;
        goToSlide(index, true);
        updateDots();

        // transition ëë‚œ í›„ ì²˜ë¦¬ (í´ë¡ ì—ì„œ ì›ë³µ)
        setTimeout(() => {
          if (index === slideCount) {
            // ì§€ê¸ˆì€ í´ë¡ (ì²« ìŠ¬ë¼ì´ë“œ ë³µì œ)ì„ ë³´ê³  ìˆìŒ -> ìˆœê°„ì ìœ¼ë¡œ ì›ë˜ ìœ„ì¹˜ë¡œ ì´ë™
            index = 0;
            goToSlide(index, false); // transition ì—†ì´ ì í”„
            updateDots();
          }
          isTransitioning = false;
        }, TRANSITION_MS + 20);
      }

      function prev() {
        if (isTransitioning) return;
        isTransitioning = true;

        if (index === 0) {
          // ì—­ë°©í–¥ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ê°€ë ¤ë©´: ë§ˆì§€ë§‰(ì‹¤ì œ ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ)ë¡œ ìˆœê°„ì´ë™ í›„ transition ì ìš©
          // êµ¬í˜„ ê°„ë‹¨í™”ë¥¼ ìœ„í•´ ìˆœê°„ ì´ë™ -> ì• ë‹ˆë©”ì´ì…˜
          slidesEl.style.transition = 'none';
          slidesEl.style.transform = `translateX(${ -100 * slideCount }%)`; // í´ë¡  ìœ„ì¹˜(ë§ˆì§€ë§‰ ë³µì œ ìœ„ì¹˜)
          // ê°•ì œë¡œ ë¦¬í”Œë¡œìš° -> ì´í›„ transition ì ìš©í•´ í•œ ì¹¸ ì•ìœ¼ë¡œ ì´ë™í•˜ë©´ ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œê°€ ë³´ì„
          void slidesEl.offsetWidth;
          index = slideCount - 1;
          slidesEl.style.transition = `transform ${TRANSITION_MS}ms ease`;
          slidesEl.style.transform = `translateX(${ -100 * index }%)`;
          setTimeout(() => { isTransitioning = false; updateDots(); }, TRANSITION_MS + 20);
          return;
        }

        index--;
        goToSlide(index, true);
        updateDots();
        setTimeout(() => { isTransitioning = false; }, TRANSITION_MS + 20);
      }

      // ìë™ ì¬ìƒ
      function startTimer() {
        stopTimer();
        timer = setInterval(next, INTERVAL);
      }
      function stopTimer() {
        if (timer) { clearInterval(timer); timer = null; }
      }

      // ë²„íŠ¼ ì´ë²¤íŠ¸
      nextBtn.addEventListener('click', () => { next(); startTimer(); });
      prevBtn.addEventListener('click', () => { prev(); startTimer(); });

      // ë„íŠ¸ í´ë¦­
      dots.forEach(d => d.addEventListener('click', (e) => {
        const targetIndex = Number(e.currentTarget.dataset.index);
        index = targetIndex;
        goToSlide(index, true);
        updateDots();
        startTimer();
      }));

      // ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì¼ì‹œì •ì§€
      sliderEl.addEventListener('mouseenter', stopTimer);
      sliderEl.addEventListener('mouseleave', startTimer);

      // ì´ˆê¸° ì„¸íŒ…: ì²« ìŠ¬ë¼ì´ë“œ ë³´ì´ê¸°
      goToSlide(0, false);
      updateDots();
      startTimer();

      // ë°˜ì‘í˜•: ì´ë¯¸ì§€ ë¡œë”©/ë¦¬ì‚¬ì´ì¦ˆ ì‹œ ë†’ì´ ë¬¸ì œ ë°©ì§€(ì˜µì…˜)
      window.addEventListener('resize', () => { /* í•„ìš”ì‹œ ì¶”ê°€ ì²˜ë¦¬ */ });
    })();
  </script>
</body>
</html>
